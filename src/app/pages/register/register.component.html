<div class="container">
  <mat-card class="auth-card">
    <mat-card-header>
      <mat-card-title>Registrarse</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form #registerForm="ngForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline">
          <mat-label>Correo electrónico</mat-label>
          <input
            matInput
            type="email"
            name="email"
            [(ngModel)]="email"
            required
            email
            #emailInput="ngModel"
          >
          @if (emailInput.invalid && emailInput.touched) {
            <mat-error>Por favor, ingresa un correo electrónico válido</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Contraseña</mat-label>
          <input
            matInput
            type="password"
            name="password"
            [(ngModel)]="password"
            required
            minlength="6"
            #passwordInput="ngModel"
          >
          @if (passwordInput.invalid && passwordInput.touched) {
            <mat-error>La contraseña debe tener al menos 6 caracteres</mat-error>
          }
        </mat-form-field>

        <div class="actions">
          @if (loading) {
            <mat-spinner diameter="36"></mat-spinner>
          } @else {
            <button
              mat-raised-button
              color="primary"
              type="submit"
              [disabled]="registerForm.invalid"
            >
              Registrarse
            </button>
          }
        </div>
      </form>
    </mat-card-content>

    <mat-card-footer>
      <p>¿Ya tienes una cuenta? <a routerLink="/login">Inicia sesión aquí</a></p>
    </mat-card-footer>
  </mat-card>
</div>